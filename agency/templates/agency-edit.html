{% extends 'base.html' %}
{% load static %}
{% block title %}
	Agency details edit
{% endblock %}

{% block content%}

<content>
    <div class="top-header">
        <div class="row">
            <div class="col-sm-5 col-lg-4 col-xs-12 text-left">
                <h5 class="title_style">EDIT AGENCY </h5>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'agencies' %}">Agency management</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Edit Agency</li>
                </ol>
            </div>
        </div>
    </div>
    <div class="content-wrapper baner_sm">
			<form method="post" id="form">
					{% csrf_token %}

					<div class="form-wrapper">
					<div class="row">
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-input {% if form.agency_no.errors %}form-has-error{% endif %}">
											<input class="form-element-field" type="text" name="agency_no" id="id_agency_no" required="" value= "{{ form.agency_no.value|default_if_none:"" }}" placeholder=" ">
											<label class="form-element-label mandatory" for="field3">Agency No</label>
											<small class="form-element-hint">{{ form.agency_no.errors }}</small>
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-input {% if form.trade_name.errors %}form-has-error{% endif %}">
											<input type="text" class="form-element-field char_30" name="trade_name" id="id_trade_name" maxlength="30" value= "{{ form.trade_name.value|default_if_none:"" }}"  placeholder=" ">
											<label class="form-element-label" for="field1">Trade Name</label>
											<small class="form-element-hint">{{ form.trade_name.errors }}</small>
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-input {% if form.tel.errors %}form-has-error{% endif %}">
											<input type="text" class="form-element-field char_30" name="tel" id="id_tel" maxlength="30" value= "{{ form.tel.value|default_if_none:"" }}"  placeholder=" ">
											<label class="form-element-label" for="field2">Tel</label>
											<small class="form-element-hint">{{ form.tel.errors }}</small>
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-input {% if form.address1.errors %}form-has-error{% endif %}">
											<input type="text" class="form-element-field char_30" name="address1" id="id_address1" maxlength="30" value= "{{ form.address1.value|default_if_none:"" }}" placeholder=" ">
											<label class="form-element-label" for="field2">Address 1</label>
											<small class="form-element-hint">{{ form.address1.errors }}</small>
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-input {% if form.address2.errors %}form-has-error{% endif %}">
											<input type="text" class="form-element-field char_30" name="address2" id="id_address2" maxlength="30" value= "{{ form.address2.value|default_if_none:"" }}" placeholder=" ">
											<label class="form-element-label" for="field2">Address 2</label>
											<small class="form-element-hint">{{ form.address2.errors }}</small>
									</div>
							</div>

							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-select {% if form.city.errors %}form-has-error{% endif %}">
											{{form.city}}
											<label class="form-element-label" for="field2">City</label>
											{{ form.city.errors }}
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-select {% if form.city.errors %}form-has-error{% endif %}">
											{{form.state}}
											<label class="form-element-label" for="field2">{% if is_arc %}States{% else %}Provinces{%endif%}</label>
											{{ form.state.errors }}
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4" style="display:none;">
									<div class="form-element form-select {% if form.trade_name.errors %}form-has-error{% endif %}">
											{{form.country}}
											<label class="form-element-label" for="">Country</label>
											{{ form.country.errors }}
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-input {% if form.zip_code.errors %}form-has-error{% endif %}">
											<input type="text" class="form-element-field char_30" name="zip_code" id="id_zip_code" maxlength="30" value= "{{ form.zip_code.value|default_if_none:"" }}" placeholder=" ">
											<label class="form-element-label" for="field2">ZIP Code</label>
											<small class="form-element-hint">{{ form.zip_code.errors }}</small>
									</div>
							</div>
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-input {% if form.email.errors %}form-has-error{% endif %}">
											<input type="email" class="form-element-field" name="email" id="id_email" maxlength="254" value= "{{ form.email.value|default_if_none:"" }}" placeholder=" ">
											<label class="form-element-label" for="field2">Email</label>
											<small class="form-element-hint">{{ form.email.errors }}</small>
									</div>
							</div>
							<!--<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">-->
									<!--<div class="form-element form-input {% if form.vat_number.errors %}form-has-error{% endif %}">-->
											<!--<input type="text" class="form-element-field char_30" name="vat_number" id="id_vat_number" maxlength="30" value= "{{ form.vat_number.value|default_if_none:"" }}" placeholder=" ">-->
											<!--<label class="form-element-label" for="field2">VAT Number</label>-->
											<!--<small class="form-element-hint">{{ form.vat_number.errors }}</small>-->
									<!--</div>-->
							<!--</div>-->
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-select {% if form.agency_type.errors %}form-has-error{% endif %}">
											{{form.agency_type}}
											<label class="form-element-label" for="field2">Agency Type</label>
											{{ form.agency_type.errors }}
									</div>
							</div>
							<!--<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">-->
									<!--<div class="form-element form-input {% if form.home_agency.errors %}form-has-error{% endif %}">-->
											<!--<input type="text" class="form-element-field char_30" name="home_agency" id="id_home_agency" maxlength="30" value= "{{ form.home_agency.value|default_if_none:"" }}">-->
											<!--<label class="form-element-label" for="field2">Home Agency</label>-->
											<!--<small class="form-element-hint">{{ form.home_agency.errors }}</small>-->
									<!--</div>-->
							<!--</div>-->
							<div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-select {% if form.sales_owner.errors %}form-has-error{% endif %}">
											{{form.sales_owner}}
											<label class="form-element-label" for="field2">Sales Owner</label>
											<small class="form-element-hint">{{ form.sales_owner.errors }}</small>
									</div>
							</div>
							<!-- <div class="col-xs-12 col-sm-6 col-xl-4 col-lg-4">
									<div class="form-element form-select {% if form.status.errors %}form-has-error{% endif %}">
											{{form.status}}
											<label class="form-element-label" for="field2">Status</label>
											{{ form.status.errors }}
									</div>
							</div> -->
					</div>
			</div>

        <div class="row">
            <div class="col-sm-12 align_right button_group custom_p-0-15">
                <a href="{% url 'agency_details' object.pk %}">Cancel</a>
                <button type="submit" class="primary_btn">Save</button>
            </div>
        </div>
    </div>
</content>
{% endblock %}

{% block js %}

<script>
	$(document).ready(function(){
          $("#form").validate({
			  rules: {
                  agency_no: "required",
                  tel: {
						maxlength:10,
						number: true,
					},
              },

              // Specify validation error messages
              messages: {
                  agency_no: "Please enter agency no",
                  tel: "Please enter valid phone number",
              },

              success: function (element) {
                  $('#'+element[0].id).nextAll().eq(1).text('');
              },

              errorPlacement: function(error, element) {
                  var placement = $(element).data('error');
                  if (placement) {
                    $(placement).append(error)
                  } else {
                    $('#'+element[0].id).nextAll().eq(1).text(error[0].innerHTML);
                  }
              },

              submitHandler: function(form) {
				form.submit();
			  },

          });
    });

    function checkPhone(phno){
		var regexPattern=new RegExp(/^[0-9-+]+$/);    // regular expression pattern
  		return regexPattern.test(phno);
    }
</script>
{% endblock %}